{% extends 'base.html' %}

{% block title %}Quiz Results - {{ quiz.title }}{% endblock %}

{% block content %}
<div class="container main-content">
  <h3 class="mb-4 text-center text-theme">ðŸ“Š Results for "{{ quiz.title }}"</h3>

  {% if results %}
    <div class="table-responsive">
      <table class="table table-striped table-hover align-middle shadow-sm rounded-3 overflow-hidden">
        <thead class="table-light">
          <tr>
            <th scope="col">User</th>
            <th scope="col">Score</th>
            <th scope="col">Out Of</th>
            <th scope="col">Percentage</th>
          </tr>
        </thead>
        <tbody>
          {% for result in results %}
          <tr>
            <td>{{ result.user.username }}</td>
            <td>{{ result.score }}</td>
            <td>{{ result.total_questions }}</td>
            <td>
              <span class="badge bg-theme text-white">
                {{ result.percentage|floatformat:2 }}%
              </span>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="text-muted text-center">No one has attempted this quiz yet.</p>
  {% endif %}
</div>
{% endblock %}

{% block extra_head %}
<style>
  .text-theme {
    color: #8a4de8;
  }

  .bg-theme {
    background: linear-gradient(135deg, #8a4de8, #7138c3);
  }

  table {
    border-radius: 12px;
    overflow: hidden;
  }

  thead th {
    font-weight: 600;
  }

  .badge.bg-theme {
    font-size: 0.85rem;
    padding: 6px 12px;
    border-radius: 20px;
  }
</style>
{% endblock %}
